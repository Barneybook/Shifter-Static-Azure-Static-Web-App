this.nab=this.nab||{},this.nab.data=function(t){var e={};function n(r){if(e[r])return e[r].exports;var c=e[r]={i:r,l:!1,exports:{}};return t[r].call(c.exports,c,c.exports,n),c.l=!0,c.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)n.d(r,c,function(e){return t[e]}.bind(null,c));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=251)}({0:function(t,e){!function(){t.exports=this.wp.i18n}()},19:function(t,e){!function(){t.exports=this.nab.utils}()},2:function(t,e){!function(){t.exports=this.lodash}()},21:function(t,e){!function(){t.exports=this.wp.date}()},225:function(t,e){!function(){t.exports=this.wp.notices}()},23:function(t,e){!function(){t.exports=this.wp.url}()},251:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"getAccount",(function(){return A})),n.d(r,"getSites",(function(){return T})),n.d(r,"getSite",(function(){return D})),n.d(r,"getInvoices",(function(){return I})),n.d(r,"getSubscription",(function(){return R})),n.d(r,"isSubscriptionDeprecated",(function(){return _})),n.d(r,"getFullname",(function(){return C})),n.d(r,"getFirstname",(function(){return N})),n.d(r,"getLastname",(function(){return V})),n.d(r,"getEmail",(function(){return L})),n.d(r,"getStartDate",(function(){return U})),n.d(r,"getPlan",(function(){return F})),n.d(r,"getLicense",(function(){return M})),n.d(r,"getPhoto",(function(){return B})),n.d(r,"getProductDisplay",(function(){return G})),n.d(r,"getMode",(function(){return K})),n.d(r,"getPeriod",(function(){return Q})),n.d(r,"getState",(function(){return Y})),n.d(r,"getDeactivationDate",(function(){return q})),n.d(r,"getNextChargeDate",(function(){return H})),n.d(r,"getNextChargeTotal",(function(){return W})),n.d(r,"getSitesAllowed",(function(){return X})),n.d(r,"getCurrency",(function(){return z})),n.d(r,"getQuota",(function(){return J})),n.d(r,"getQuotaPerMonth",(function(){return Z})),n.d(r,"getQuotaExtra",(function(){return $})),n.d(r,"getProducts",(function(){return tt})),n.d(r,"getUrlToManagePayments",(function(){return et})),n.d(r,"getKindEntities",(function(){return nt})),n.d(r,"getEntityRecord",(function(){return rt})),n.d(r,"getExperiment",(function(){return ct})),n.d(r,"getExperimentAttribute",(function(){return at})),n.d(r,"getDefaultGoal",(function(){return it})),n.d(r,"getPageAttribute",(function(){return ut})),n.d(r,"isLocked",(function(){return ot})),n.d(r,"getExperimentResults",(function(){return kt})),n.d(r,"getWinnersInExperiment",(function(){return St})),n.d(r,"getAlternativeResultsInExperiment",(function(){return At})),n.d(r,"getPageViews",(function(){return Tt})),n.d(r,"getAlternativePageViews",(function(){return Dt})),n.d(r,"getConversions",(function(){return It})),n.d(r,"getDaysRunning",(function(){return Rt})),n.d(r,"getExperimentResultsStatus",(function(){return _t})),n.d(r,"getWinnerAlternative",(function(){return Ct})),n.d(r,"getConversionRatesOfAlternativesInGoal",(function(){return Nt})),n.d(r,"getResultsOfAlternatives",(function(){return Vt})),n.d(r,"getActivePlugins",(function(){return jt})),n.d(r,"getMenu",(function(){return mt})),n.d(r,"getTemplates",(function(){return Et})),n.d(r,"getThemes",(function(){return yt})),n.d(r,"getPluginSetting",(function(){return wt})),n.d(r,"isSubscribedTo",(function(){return Pt}));var c={};n.r(c),n.d(c,"receiveAccount",(function(){return Ht})),n.d(c,"receiveSites",(function(){return Wt})),n.d(c,"receiveInvoices",(function(){return Xt})),n.d(c,"receiveProducts",(function(){return zt})),n.d(c,"createFreeSite",(function(){return Jt})),n.d(c,"createPremiumSite",(function(){return Zt})),n.d(c,"linkSite",(function(){return $t})),n.d(c,"unlinkSite",(function(){return te})),n.d(c,"cancelSubscription",(function(){return ee})),n.d(c,"uncancelSubscription",(function(){return ne})),n.d(c,"upgradeSubscription",(function(){return re})),n.d(c,"purchaseQuota",(function(){return ce})),n.d(c,"receiveKindEntitiesQuery",(function(){return ae})),n.d(c,"receiveEntityRecords",(function(){return ie})),n.d(c,"changeLastAppliedAlternative",(function(){return le})),n.d(c,"receiveExperiment",(function(){return ve})),n.d(c,"stopExperiment",(function(){return ge})),n.d(c,"pauseExperiment",(function(){return Oe})),n.d(c,"applyAlternative",(function(){return he})),n.d(c,"migrateOldExperiment",(function(){return Ee})),n.d(c,"removeOldAccountData",(function(){return ye})),n.d(c,"setPageAttribute",(function(){return we})),n.d(c,"lock",(function(){return Pe})),n.d(c,"unlock",(function(){return ke})),n.d(c,"receiveExperimentResult",(function(){return Se})),n.d(c,"receivePlugins",(function(){return Ae})),n.d(c,"receiveMenus",(function(){return Te})),n.d(c,"receiveTemplates",(function(){return De})),n.d(c,"receiveThemes",(function(){return Ie})),n.d(c,"receivePluginSettings",(function(){return Re}));var a={};n.r(a),n.d(a,"getAccount",(function(){return Ue})),n.d(a,"getQuota",(function(){return Fe})),n.d(a,"getSites",(function(){return Me})),n.d(a,"getInvoices",(function(){return Be})),n.d(a,"getProducts",(function(){return Ge})),n.d(a,"getKindEntities",(function(){return He})),n.d(a,"getEntityRecord",(function(){return We})),n.d(a,"getExperiment",(function(){return ze})),n.d(a,"getExperimentResults",(function(){return rn})),n.d(a,"getPageViews",(function(){return cn})),n.d(a,"getAlternativePageViews",(function(){return an})),n.d(a,"getDaysRunning",(function(){return un})),n.d(a,"getExperimentResultsStatus",(function(){return on})),n.d(a,"getConversionRatesOfAlternativesInGoal",(function(){return sn})),n.d(a,"getActivePlugins",(function(){return vn})),n.d(a,"getMenu",(function(){return gn})),n.d(a,"getTemplates",(function(){return On})),n.d(a,"getThemes",(function(){return hn})),n.d(a,"getPluginSetting",(function(){return xn}));var i=n(9),u=n.n(i),o=n(5),s=n(7),p=n(2);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(n,!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v=Object(o.combineReducers)({config:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_TYPE_QUERY":return e.kindEntities}return t},data:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_ITEMS":return l({},t,u()({},e.kind,l({},t[e.kind],{},Object(p.keyBy)(e.items,"id"))))}return t}}),g=n(27),O=n.n(g),h=n(19);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(n,!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t){var e=Object(h.createAlternative)("control"),n=Object(h.createAlternative)();return t?"control"!==t[0].id?[e].concat(O()(t)):1===t.length?[t[0],n]:t:[e,n]}function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(n,!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(n,!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var S=Object(o.combineReducers)({account:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(t||(t={info:{},invoices:[],products:[],sites:[]}),e.type){case"RECEIVE_ACCOUNT":return d({},t,{info:e.account});case"RECEIVE_INVOICES":return d({},t,{invoices:e.invoices});case"RECEIVE_PRODUCTS":return d({},t,{products:e.products});case"RECEIVE_SITES":return d({},t,{sites:e.sites});case"UNLINK_SITE":return d({},t,{sites:Object(p.reject)(t.sites,{id:e.id})})}return t},entities:v,experiments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_EXPERIMENT":return j({},t,u()({},e.key,j({},e.experiment,{alternatives:m(e.experiment.alternatives),goals:e.experiment.goals||[Object(h.createGoal)()]})));case"CHANGE_LAST_APPLIED_ALTERNATIVE":var n=t[e.experimentId];return n?j({},t,u()({},e.experimentId,j({},n,{alternatives:n.alternatives.map((function(t){return j({},t,{isLastApplied:t.id===e.alternativeId})}))}))):t}return t},page:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(t||(t={isLocked:!1}),e.type){case"SET_PAGE_ATTRIBUTE":return e.name?y({},t,u()({},e.name,e.value)):t;case"LOCK_UI":return y({},t,{isLocked:!0});case"UNLOCK_UI":return y({},t,{isLocked:!1})}return t},results:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_RESULT":return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(n,!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,u()({},e.key,e.result))}return t},settings:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(t||(t={menus:{},nelio:{},plugins:[]}),e.type){case"RECEIVE_MENUS":return k({},t,{menus:k({},t.menus,{},Object(p.keyBy)(e.menus,"id"))});case"RECEIVE_PLUGINS":return k({},t,{plugins:e.plugins||[]});case"RECEIVE_TEMPLATES":return k({},t,{templates:k({},e.templates)});case"RECEIVE_THEMES":return k({},t,{themes:Object(p.keyBy)(e.themes,"id")});case"RECEIVE_PLUGIN_SETTINGS":return k({},t,{nelio:e.settings})}return t}});function A(t){return t.account.info}function T(t,e){return e?t.account.sites:[]}function D(t,e){return Object(p.find)(t.account.sites,{id:e})}function I(t,e){return e?t.account.invoices:[]}function R(t){return t.account.info.subscription}function _(t){return t.account.info.subscription&&t.account.info.subscription.startsWith("OL")}function C(t){return t.account.info.fullname}function N(t){return t.account.info.firstname}function V(t){return t.account.info.lastname}function L(t){return t.account.info.email}function U(t){return t.account.info.startDate}function F(t){return t.account.info.plan}function M(t){return t.account.info.license}function B(t){return t.account.info.photo}function G(t){return t.account.info.productDisplay}function K(t){return t.account.info.mode}function Q(t){return t.account.info.period}function Y(t){return t.account.info.state}function q(t){return t.account.info.deactivationDate}function H(t){return t.account.info.nextChargeDate}function W(t){return t.account.info.nextChargeTotal}function X(t){return t.account.info.sitesAllowed}function z(t){return t.account.info.currency}function J(t){return t.account.info.quota}function Z(t){return t.account.info.quotaPerMonth}function $(t){return t.account.info.quotaExtra}function tt(t){return t.account.products}function et(t){return t.account.info.urlToManagePayments}function nt(t){return t.entities.config}function rt(t,e,n){return Object(p.get)(t.entities.data,[e,n])}function ct(t,e){return Object(p.get)(t.experiments,e)}function at(t,e,n){var r=ct(t,e);if(r)return r[n]}function it(t,e){var n=ct(t,e);if(n)return n.goals[0]}function ut(t,e,n){if(!t.page)return n;var r=t.page[e];return void 0===r?n:r}function ot(t){return ut(t,"isLocked",!1)}var st=n(21);function pt(t,e){return{winners:ft(t.results||{},e.goals),wasEnoughData:dt(t.results||{},e.goals),alternatives:bt(t,e)}}function ft(t,e){for(var n={},r=e.length,c=0;c<r;++c){var a=e[c].id,i=t["g".concat(c)]||!1;n[a]=!1,i&&"win"===i.status&&(n[a]={alternative:i.winner,confidence:i.confidence})}return n}function dt(t,e){for(var n={},r=e.length,c=0;c<r;++c){var a=e[c].id,i=t["g".concat(c)]||{};n[a]="low-data"!==i.status}return n}function bt(t,e){var n=e.alternatives,r="finished"===e.status?Object(st.getDate)(e.endDate):new Date,c=Object(st.date)("Y-m-d",r);return Object(p.keyBy)(n.map((function(n,r){return function(t,e,n,r,c){return{id:e,visits:t.v||0,conversions:lt(t.c||{},c),conversionRates:vt(t.cr||{},c),improvementFactors:gt(t.i||{},c),timeline:Ot(t.t||[],n,r,c)}}(t["a".concat(r)]||{},n.id,e.startDate,c,e.goals)})),"id")}function lt(t,e){for(var n={},r=e.length,c=0;c<r;++c){n[e[c].id]=t["g".concat(c)]||0}return n}function vt(t,e){for(var n={},r=e.length,c=0;c<r;++c){n[e[c].id]=Math.round(100*t["g".concat(c)])/100||0}return n}function gt(t,e){for(var n={},r=e.length,c=0;c<r;++c){n[e[c].id]=t["g".concat(c)]||0}return n}function Ot(t,e,n,r){var c,a=[],i=Object(st.getDate)(e);do{var u=ht(t,c=Object(st.format)("Y-m-d",i));u=xt(u,r),a.push(u),i.setDate(i.getDate()+1)}while(n>c);return a}function ht(t,e){var n=Object(p.find)(t,{d:e})||{};return delete(n=Object(p.clone)(n)).d,n.date=e,n}function xt(t,e){var n={};n.visits=t.v||0,n.date=t.date;for(var r=e.length,c=0;c<r;++c){n[e[c].id]=t["g".concat(c)]||0}return n}function jt(t){if(t.settings&&t.settings.plugins)return t.settings.plugins}function mt(t,e){if(t.settings&&t.settings.menus)return Object(p.get)(t.settings.menus,e)}function Et(t){if(t.settings&&t.settings.templates)return t.settings.templates}function yt(t){if(t.settings&&t.settings.themes)return Object(p.values)(t.settings.themes)}function wt(t,e){if(t.settings&&t.settings.nelio)return t.settings.nelio[e]}function Pt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"or-above",r=wt(t,"subscription");if(!r)return!1;var c=["basic","professional","enterprise"],a=c.indexOf(e),i=c.indexOf(r);return-1!==a&&-1!==i&&("or-above"!==n?a===i:i>=a)}function kt(t,e){return Object(p.get)(t.results,e)}function St(t,e){var n=kt(t,e);if(n)return n.winners}function At(t,e){var n=kt(t,e);if(n)return Object(p.values)(n.alternatives)}function Tt(t,e){var n=kt(t,e);if(n&&n.alternatives)return Object(p.values)(n.alternatives).reduce((function(t,e){return t+e.visits}),0)}function Dt(t,e,n){var r=kt(t,e);if(r&&r.alternatives){var c=r.alternatives[n];if(c)return c.visits}}function It(t,e,n){var r=kt(t,e);if(r&&r.alternatives)return n||(n=it(t,e).id),Object(p.values)(r.alternatives).reduce((function(t,e){return t+e.conversions[n]}),0)}function Rt(t,e){var n,r=ct(t,e),c=r.startDate;return"finished"===r.status&&(n=r.endDate),function(t,e){if(!t)return 0;"string"==typeof t&&(t=new Date(t)),"string"==typeof e&&(e=new Date(e)),e||(e=new Date);var n=Math.abs(e.getTime()-t.getTime());return Math.ceil(n/864e5)}(c,n)}function _t(t,e,n){n||(n=it(t,e).id);var r=kt(t,e);if(r){var c=wt(t,"minConfidence");if(c){var a=r.winners[n];return a?a.confidence>=c?"winner":"possible-winner":"testing"}}}function Ct(t,e,n){if(!n){var r=it(t,e);if(!r)return;n=r.id}var c=kt(t,e);if(c){var a=wt(t,"minConfidence");if(a){var i=c.winners[n];return!(!i||i.confidence<a)&&i.alternative}}}function Nt(t,e,n){n||(n=it(t,e).id);var r=kt(t,e);if(r)return Object(p.values)(r.alternatives).map((function(t){return t.conversionRates[n]}))}function Vt(t,e){var n=kt(t,e);if(n)return n.alternatives}var Lt=n(8),Ut=n.n(Lt),Ft=(n(225),Ut.a.mark(Jt)),Mt=Ut.a.mark(Zt),Bt=Ut.a.mark($t),Gt=Ut.a.mark(te),Kt=Ut.a.mark(ee),Qt=Ut.a.mark(ne),Yt=Ut.a.mark(re),qt=Ut.a.mark(ce);function Ht(t){return{type:"RECEIVE_ACCOUNT",account:t}}function Wt(t){return{type:"RECEIVE_SITES",sites:Object(p.castArray)(t)}}function Xt(t){return{type:"RECEIVE_INVOICES",invoices:Object(p.castArray)(t)}}function zt(t){return{type:"RECEIVE_PRODUCTS",products:Object(p.castArray)(t)}}function Jt(){return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s.apiFetch)({path:"/nab/v1/site/free",method:"POST"});case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),t.next=9,Object(s.dispatch)("core/notices","createErrorNotice",t.t0.message);case 9:case"end":return t.stop()}}),Ft,null,[[0,5]])}function Zt(){return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s.apiFetch)({path:"/nab/v1/site/premium",method:"POST"});case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),t.next=9,Object(s.dispatch)("core/notices","createErrorNotice",t.t0.message);case 9:case"end":return t.stop()}}),Mt,null,[[0,5]])}function $t(t){return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.dispatch)("nab/data","lock");case 3:return e.next=5,Object(s.apiFetch)({path:"/nab/v1/site/subscription",method:"POST",data:{license:t}});case 5:window.location.reload(),e.next=14;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(s.dispatch)("nab/data","unlock");case 12:return e.next=14,Object(s.dispatch)("core/notices","createErrorNotice",e.t0.message);case 14:case"end":return e.stop()}}),Bt,null,[[0,8]])}function te(t){return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.dispatch)("nab/data","lock");case 3:return e.next=5,Object(s.apiFetch)({path:"/nab/v1/site/".concat(t,"/subscription"),method:"DELETE"});case 5:return e.next=7,Object(s.select)("nab/data","getSite",t);case 7:if(!e.sent.isCurrentSite){e.next=10;break}return e.abrupt("return",window.location.reload());case 10:return e.next=12,Object(s.dispatch)("nab/data","unlock");case 12:return e.abrupt("return",{type:"UNLINK_SITE",id:t});case 15:return e.prev=15,e.t0=e.catch(0),e.next=19,Object(s.dispatch)("nab/data","unlock");case 19:return e.next=21,Object(s.dispatch)("core/notices","createErrorNotice",e.t0.message);case 21:case"end":return e.stop()}}),Gt,null,[[0,15]])}function ee(){var t;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.dispatch)("nab/data","lock");case 3:return e.next=5,Object(s.select)("nab/data","getSubscription");case 5:return t=e.sent,e.next=8,Object(s.apiFetch)({path:"/nab/v1/subscription/".concat(t),method:"DELETE"});case 8:window.location.reload(),e.next=17;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(s.dispatch)("nab/data","unlock");case 15:return e.next=17,Object(s.dispatch)("core/notices","createErrorNotice",e.t0.message);case 17:case"end":return e.stop()}}),Kt,null,[[0,11]])}function ne(){var t;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.dispatch)("nab/data","lock");case 3:return e.next=5,Object(s.select)("nab/data","getSubscription");case 5:return t=e.sent,e.next=8,Object(s.apiFetch)({path:"/nab/v1/subscription/".concat(t,"/uncancel"),method:"POST"});case 8:window.location.reload(),e.next=17;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(s.dispatch)("nab/data","unlock");case 15:return e.next=17,Object(s.dispatch)("core/notices","createErrorNotice",e.t0.message);case 17:case"end":return e.stop()}}),Qt,null,[[0,11]])}function re(t){var e;return Ut.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(s.dispatch)("nab/data","lock");case 3:return n.next=5,Object(s.select)("nab/data","getSubscription");case 5:return e=n.sent,n.next=8,Object(s.apiFetch)({path:"/nab/v1/subscription/".concat(e),method:"PUT",data:{plan:t}});case 8:window.location.reload(),n.next=17;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(s.dispatch)("nab/data","unlock");case 15:return n.next=17,Object(s.dispatch)("core/notices","createErrorNotice",n.t0.message);case 17:case"end":return n.stop()}}),Yt,null,[[0,11]])}function ce(t,e){var n;return Ut.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(s.dispatch)("nab/data","lock");case 3:return r.next=5,Object(s.select)("nab/data","getSubscription");case 5:return n=r.sent,r.next=8,Object(s.apiFetch)({path:"/nab/v1/subscription/".concat(n,"/quota"),method:"POST",data:{quantity:t,currency:e}});case 8:window.location.reload(),r.next=17;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,Object(s.dispatch)("nab/data","unlock");case 15:return r.next=17,Object(s.dispatch)("core/notices","createErrorNotice",r.t0.message);case 17:case"end":return r.stop()}}),qt,null,[[0,11]])}function ae(t){return{type:"RECEIVE_TYPE_QUERY",kindEntities:Object(p.castArray)(t)}}function ie(t,e){return{type:"RECEIVE_ITEMS",items:Object(p.castArray)(e),kind:t}}var ue=n(23),oe=n(0),se=Ut.a.mark(ge),pe=Ut.a.mark(Oe),fe=Ut.a.mark(he);function de(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?de(n,!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):de(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function le(t,e){return{type:"CHANGE_LAST_APPLIED_ALTERNATIVE",experimentId:t,alternativeId:e}}function ve(t,e){return{type:"RECEIVE_EXPERIMENT",key:t,experiment:e}}function ge(){var t,e,n,r,c,a,i;return Ut.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(s.dispatch)("nab/data","setPageAttribute","isExperimentBeingStopped",!0);case 2:return u.next=4,Object(s.select)("nab/data","getPageAttribute","activeExperiment");case 4:return t=u.sent,u.next=7,Object(s.select)("nab/data","getExperiment",t);case 7:return e=u.sent,u.prev=8,u.next=11,Object(s.apiFetch)({path:"/nab/v1/experiment/".concat(t,"/stop"),method:"PUT"});case 11:n=u.sent,u.next=23;break;case 14:return u.prev=14,u.t0=u.catch(8),r=u.t0.errors?Object(p.values)(u.t0.errors):[],c=r[0]||Object(oe._x)("Test can’t be stopped","text","nelio-ab-testing"),u.next=20,Object(s.dispatch)("core/notices","createErrorNotice",c);case 20:return u.next=22,Object(s.dispatch)("nab/data","setPageAttribute","isExperimentBeingStopped",!1);case 22:return u.abrupt("return");case 23:return a=Object(p.keyBy)(n.alternatives||[],"id"),i=be({},n,{heatmapUrl:e.heatmapUrl,alternatives:(e.alternatives||[]).map((function(t){return be({},t,{links:xe(t,a[t.id])})}))}),u.next=27,Object(s.dispatch)("nab/data","receiveExperiment",e.id,i);case 27:return u.next=29,Object(s.dispatch)("nab/data","setPageAttribute","isExperimentBeingStopped",!1);case 29:case"end":return u.stop()}}),se,null,[[8,14]])}function Oe(){var t,e,n;return Ut.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(s.dispatch)("nab/data","setPageAttribute","isExperimentBeingPaused",!0);case 2:return r.next=4,Object(s.select)("nab/data","getPageAttribute","activeExperiment");case 4:return t=r.sent,r.prev=5,r.next=8,Object(s.apiFetch)({path:"/nab/v1/experiment/".concat(t,"/pause"),method:"PUT"});case 8:r.next=19;break;case 10:return r.prev=10,r.t0=r.catch(5),e=r.t0.errors?Object(p.values)(r.t0.errors):[],n=e[0]||Object(oe._x)("Test can’t be paused","text","nelio-ab-testing"),r.next=16,Object(s.dispatch)("core/notices","createErrorNotice",n);case 16:return r.next=18,Object(s.dispatch)("nab/data","setPageAttribute","isExperimentBeingPaused",!1);case 18:return r.abrupt("return");case 19:window.location=Object(ue.addQueryArgs)("admin.php",{page:"nelio-ab-testing-experiment-edit",experiment:t});case 20:case"end":return r.stop()}}),pe,null,[[5,10]])}function he(t){var e,n,r,c;return Ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(s.dispatch)("nab/data","setPageAttribute","alternativeBeingApplied",t);case 2:return a.next=4,Object(s.select)("nab/data","getPageAttribute","activeExperiment");case 4:return e=a.sent,a.prev=5,a.next=8,Object(s.apiFetch)({path:"/nab/v1/experiment/".concat(e,"/apply/").concat(t),method:"PUT"});case 8:n=a.sent,a.next=20;break;case 11:return a.prev=11,a.t0=a.catch(5),r=a.t0.errors?Object(p.values)(a.t0.errors):[],c=r[0]||Object(oe._x)("Alternative can’t be applied","text","nelio-ab-testing"),a.next=17,Object(s.dispatch)("core/notices","createErrorNotice",c);case 17:return a.next=19,Object(s.dispatch)("nab/data","setPageAttribute","alternativeBeingApplied",!1);case 19:return a.abrupt("return");case 20:return a.next=22,Object(s.dispatch)("nab/data","changeLastAppliedAlternative",n.id,t);case 22:return a.next=24,Object(s.dispatch)("nab/data","setPageAttribute","alternativeBeingApplied",!1);case 24:case"end":return a.stop()}}),fe,null,[[5,11]])}function xe(t,e){if(t&&t.links)return e&&e.links?be({},e.links,{heatmap:t.links.heatmap,preview:t.links.preview}):t.links}var je=Ut.a.mark(Ee),me=Ut.a.mark(ye);function Ee(t){var e;return Ut.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(s.apiFetch)({path:"/nab/v1/migrate/experiment/".concat(t),method:"PUT"});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.error(n.t0);case 8:return n.next=10,Object(s.select)("nab/data","getPageAttribute","migratedExperiments",[]);case 10:return e=n.sent,n.next=13,Object(s.dispatch)("nab/data","setPageAttribute","migratedExperiments",[].concat(O()(e),[t]));case 13:case"end":return n.stop()}}),je,null,[[0,5]])}function ye(){return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s.apiFetch)({path:"/nab/v1/migrate/remove-old-account-data",method:"PUT"});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),me,null,[[0,5]])}function we(t,e){return{type:"SET_PAGE_ATTRIBUTE",name:t,value:e}}function Pe(){return{type:"LOCK_UI"}}function ke(){return{type:"UNLOCK_UI"}}function Se(t,e){return{type:"RECEIVE_RESULT",key:t,result:e}}function Ae(t){return{type:"RECEIVE_PLUGINS",plugins:Object(p.castArray)(t)}}function Te(t){return{type:"RECEIVE_MENUS",menus:Object(p.castArray)(t)}}function De(t){return{type:"RECEIVE_TEMPLATES",templates:t}}function Ie(t){return{type:"RECEIVE_THEMES",themes:Object(p.castArray)(t)}}function Re(t){return{type:"RECEIVE_PLUGIN_SETTINGS",settings:t}}var _e=Ut.a.mark(Ue),Ce=Ut.a.mark(Fe),Ne=Ut.a.mark(Me),Ve=Ut.a.mark(Be),Le=Ut.a.mark(Ge);function Ue(){var t;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.apiFetch)({path:"/nab/v1/site"});case 2:return t=e.sent,e.next=5,Ht(t);case 5:case"end":return e.stop()}}),_e)}function Fe(){return Ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.select)("nab/data","getAccount");case 2:case"end":return t.stop()}}),Ce)}function Me(t){var e;return Ut.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.apiFetch)({path:"/nab/v1/subscription/".concat(t,"/sites")});case 2:return e=n.sent,n.next=5,Wt(e);case 5:case"end":return n.stop()}}),Ne)}function Be(t){var e;return Ut.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.apiFetch)({path:"/nab/v1/subscription/".concat(t,"/invoices")});case 2:return e=n.sent,n.next=5,Xt(e);case 5:case"end":return n.stop()}}),Ve)}function Ge(){var t;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.apiFetch)({path:"/nab/v1/products"});case 2:return t=e.sent,e.next=5,zt(t);case 5:case"end":return e.stop()}}),Le)}var Ke=Ut.a.mark(He),Qe=Ut.a.mark(We);function Ye(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ye(n,!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ye(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function He(){var t,e;return Ut.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.apiFetch)({path:"/nab/v1/types"});case 2:return t=n.sent,e=Object(p.keys)(t).map((function(e){return qe({},t[e])})),n.next=6,ae(e);case 6:case"end":return n.stop()}}),Ke)}function We(t,e){var n,r;return Ut.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(s.select)("nab/data","getKindEntities");case 2:if(n=c.sent,Object(p.find)(n,{name:t})){c.next=7;break}return console.log("Entity ".concat(t," not found in"),n),c.abrupt("return");case 7:return c.next=9,Object(s.apiFetch)({path:"/nab/v1/post/?id=".concat(e,"&type=").concat(t)});case 9:return r=c.sent,c.next=12,ie(t,r);case 12:case"end":return c.stop()}}),Qe)}var Xe=Ut.a.mark(ze);function ze(t){var e;return Ut.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.apiFetch)({path:"/nab/v1/experiment/".concat(t)});case 2:return e=n.sent,n.next=5,ve(t,e);case 5:case"end":return n.stop()}}),Xe)}var Je=Ut.a.mark(rn),Ze=Ut.a.mark(cn),$e=Ut.a.mark(an),tn=Ut.a.mark(un),en=Ut.a.mark(on),nn=Ut.a.mark(sn);function rn(t){var e,n,r;return Ut.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(s.select)("nab/data","getExperiment",t);case 2:return e=c.sent,c.next=5,Object(s.apiFetch)({path:"/nab/v1/experiment/".concat(t,"/result")});case 5:return n=c.sent,r=pt(n,e),c.next=9,Se(t,r);case 9:case"end":return c.stop()}}),Je)}function cn(t){return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.select)("nab/data","getExperimentResults",t);case 2:case"end":return e.stop()}}),Ze)}function an(t){return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.select)("nab/data","getExperimentResults",t);case 2:case"end":return e.stop()}}),$e)}function un(t){return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.select)("nab/data","getExperimentResults",t);case 2:case"end":return e.stop()}}),tn)}function on(t){return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.select)("nab/data","getExperimentResults",t);case 2:case"end":return e.stop()}}),en)}function sn(t){return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.select)("nab/data","getExperimentResults",t);case 2:case"end":return e.stop()}}),nn)}var pn=Ut.a.mark(vn),fn=Ut.a.mark(gn),dn=Ut.a.mark(On),bn=Ut.a.mark(hn),ln=Ut.a.mark(xn);function vn(){var t;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.apiFetch)({path:"/nab/v1/plugins"});case 2:return t=e.sent,e.next=5,Ae(t);case 5:case"end":return e.stop()}}),pn)}function gn(t){var e;return Ut.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.apiFetch)({path:"/nab/v1/menu/".concat(t)});case 2:return e=n.sent,n.next=5,Te(e);case 5:case"end":return n.stop()}}),fn)}function On(){var t;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.apiFetch)({path:Object(ue.addQueryArgs)("/nab/v1/templates")});case 2:return t=e.sent,e.next=5,De(t.results);case 5:case"end":return e.stop()}}),dn)}function hn(){var t;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.apiFetch)({path:"/nab/v1/themes"});case 2:return t=e.sent,e.next=5,Ie(t.results);case 5:case"end":return e.stop()}}),bn)}function xn(){var t;return Ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.apiFetch)({path:"/nab/v1/plugin-settings"});case 2:return t=e.sent,e.next=5,Re(t);case 5:case"end":return e.stop()}}),ln)}function jn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jn(n,!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jn(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}Object(o.registerStore)("nab/data",{reducer:S,controls:s.controls,actions:mn({},c),selectors:mn({},r),resolvers:mn({},a)}),Object(o.select)("nab/data").getPluginSetting()},27:function(t,e,n){var r=n(46),c=n(47),a=n(48);t.exports=function(t){return r(t)||c(t)||a()}},46:function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},47:function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},48:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},5:function(t,e){!function(){t.exports=this.wp.data}()},7:function(t,e){!function(){t.exports=this.wp.dataControls}()},8:function(t,e){!function(){t.exports=this.regeneratorRuntime}()},9:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}}});