!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=231)}({0:function(e,t){!function(){e.exports=this.wp.element}()},1:function(e,t){!function(){e.exports=this.wp.i18n}()},10:function(e,t){!function(){e.exports=this.React}()},11:function(e,t){!function(){e.exports=this.nab.components}()},14:function(e,t){!function(){e.exports=this.nab.utils}()},16:function(e,t,n){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)&&o.length){var c=i.apply(null,o);c&&e.push(c)}else if("object"===a)for(var r in o)n.call(o,r)&&o[r]&&e.push(r)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(o=function(){return i}.apply(t,[]))||(e.exports=o)}()},17:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(n(10)),a=r(n(57)),c=r(n(60));function r(e){return e&&e.__esModule?e:{default:e}}var l=void 0;function s(e,t){var n,c,r,u,b,p,m,f,g=[],d={};for(p=0;p<e.length;p++)if("string"!==(b=e[p]).type){if(!t.hasOwnProperty(b.value)||void 0===t[b.value])throw new Error("Invalid interpolation, missing component node: `"+b.value+"`");if("object"!==o(t[b.value]))throw new Error("Invalid interpolation, component node must be a ReactElement or null: `"+b.value+"`","\n> "+l);if("componentClose"===b.type)throw new Error("Missing opening component token: `"+b.value+"`");if("componentOpen"===b.type){n=t[b.value],r=p;break}g.push(t[b.value])}else g.push(b.value);return n&&(u=function(e,t){var n,o,i=t[e],a=0;for(o=e+1;o<t.length;o++)if((n=t[o]).value===i.value){if("componentOpen"===n.type){a++;continue}if("componentClose"===n.type){if(0===a)return o;a--}}throw new Error("Missing closing component token `"+i.value+"`")}(r,e),m=s(e.slice(r+1,u),t),c=i.default.cloneElement(n,{},m),g.push(c),u<e.length-1&&(f=s(e.slice(u+1),t),g=g.concat(f))),1===g.length?g[0]:(g.forEach((function(e,t){e&&(d["interpolation-child-"+t]=e)})),(0,a.default)(d))}t.default=function(e){var t=e.mixedString,n=e.components,i=e.throwErrors;if(l=t,!n)return t;if("object"!==(void 0===n?"undefined":o(n))){if(i)throw new Error("Interpolation Error: unable to process `"+t+"` because components is not an object");return t}var a=(0,c.default)(t);try{return s(a,n)}catch(e){if(i)throw new Error("Interpolation Error: unable to process `"+t+"` because of error `"+e.message+"`");return t}}},18:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},2:function(e,t){!function(){e.exports=this.wp.components}()},22:function(e,t){!function(){e.exports=this.wp.domReady}()},231:function(e,t,n){"use strict";n.r(t);var o=n(0),i=(n(22),n(56),n(26),n(11)),a=(n(182),n(5)),c=n.n(a),r=n(6),l=n.n(r),s=n(7),u=n.n(s),b=n(8),p=n.n(b),m=n(9),f=n.n(m),g=n(2),d=n(3),O=n(4),h=n(1),j=function(e){function t(){return c()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.children,a=e.notices,c=e.onRemove;return t?Object(o.createElement)(i.LoadingAnimation,{text:Object(h._x)("Loading…","text","nelio-ab-testing")}):Object(o.createElement)(o.Fragment,null,Object(o.createElement)(g.NoticeList,{notices:a,className:"components-editor-notices__pinned",onRemove:c}),n)}}]),t}(o.Component),v=Object(O.compose)(Object(d.withSelect)((function(e){return{isLoading:!(0,e("nab/data").getAccount)().plan}})),Object(d.withSelect)((function(e){return{notices:e("core/notices").getNotices()}})),Object(d.withDispatch)((function(e){return{onRemove:e("core/notices").removeNotice}})))(j),_=n(18),y=n.n(_),x=n(14),E=n(17),S=n.n(E),P=(n(183),n(184),function(e){function t(){return c()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.position,i=e.onClick,a=e.onFocusOutside,c=e.license,r=e.setState,l=e.applyLicense;return t?Object(o.createElement)(g.Popover,{className:"nab-license-form",position:n,onFocusOutside:a},Object(o.createElement)(g.TextControl,{value:c,placeholder:Object(h._x)("Type your license here","user","nelio-ab-testing"),maxLength:Math.max(21,26),className:"nab-license-form__text-control",onChange:function(e){return r((function(){return{license:e}}))}}),Object(o.createElement)(g.Button,{isPrimary:!0,className:"nab-license-form__button",disabled:21!==c.length&&26!==c.length,onClick:function(){i(),l()}},Object(h._x)("Apply","command","nelio-ab-testing"))):null}}]),t}(o.Component)),w=Object(d.withDispatch)((function(e,t){var n=t.license,o=e("nab/data").linkSite;return{applyLicense:function(){o(n)}}})),C=Object(O.withState)({license:""}),N=Object(O.compose)(C,w)(P),k=(n(185),function(e){function t(){return c()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.position,i=e.currency,a=void 0===i?"USD":i,c=e.products,r=e.isLoading,l=e.onClick,s=e.onFocusOutside,u=e.upgradeSubscription,b=e.optionSelected,p=e.setState;return t?r?Object(o.createElement)(g.Popover,{className:"nab-upgrade-form--loading",position:n,onFocusOutside:s},Object(o.createElement)(g.Spinner,null)):Object(o.createElement)(g.Popover,{className:"nab-upgrade-form",position:n,onFocusOutside:s},Object(o.createElement)(g.RadioControl,{className:"nab-upgrade-form__product-container",label:Object(h._x)("Subscription Plans","text","nelio-ab-testing"),selected:b,options:c.map((function(e){var t=e.id,n=e.displayName,i=e.price,c=e.description;return{label:Object(o.createElement)("div",{className:"nab-upgrade-form__product"},Object(o.createElement)("strong",{className:"nab-upgrade-form__product-name"},L(n)),Object(o.createElement)("span",{className:"nab-upgrade-form__product-price",title:a},D(i[a],a)),Object(o.createElement)("span",{className:"nab-upgrade-form__product-description"},L(c))),value:t}})),onChange:function(e){p({optionSelected:e})}}),Object(o.createElement)("div",{className:"nab-upgrade-form__button-container"},Object(o.createElement)(g.Button,{isPrimary:!0,className:"nab-upgrade-form__button",disabled:!b,onClick:function(){l(),u(b)}},Object(h._x)("Upgrade Subscription","command","nelio-ab-testing")))):null}}]),t}(o.Component)),D=function(e,t){switch(t){case"EUR":return"".concat(e,"€");case"USD":default:return"$".concat(e)}},L=function(e){return Object(x.getLocale)().startsWith("es")?e.es:e.en},U=Object(d.withSelect)((function(e){var t=e("nab/data"),n=t.getProducts,o=t.getPlan,i=t.getPeriod,a=t.getCurrency,c=o(),r=i(),l=n(),s=a();return{products:l.filter((function(e){return!!e.isSubscription&&((r!==e.period||c!==e.plan)&&(("year"!==r||"month"!==e.period)&&(("professional"!==c||"basic"!==e.plan)&&("enterprise"!==c||"basic"!==e.plan&&"professional"!==e.plan))))})),currency:s,isLoading:void 0===l}})),R=Object(d.withDispatch)((function(e){return{upgradeSubscription:e("nab/data").upgradeSubscription}})),M=Object(O.withState)({optionSelected:!1}),T=Object(O.compose)(M,U,R)(k),V=function(e){function t(){var e;return c()(this,t),(e=u()(this,p()(t).apply(this,arguments))).toggleLicensePopover=e.toggleLicensePopover.bind(y()(e)),e.toggleUpgradePopover=e.toggleUpgradePopover.bind(y()(e)),e.toggleQuotaPurchasePopover=e.toggleQuotaPurchasePopover.bind(y()(e)),e.toggleCancelDialog=e.toggleCancelDialog.bind(y()(e)),e.toggleUncancelDialog=e.toggleUncancelDialog.bind(y()(e)),e}return f()(t,e),l()(t,[{key:"toggleLicensePopover",value:function(){var e=this.props,t=e.isLicensePopoverVisible;(0,e.setState)((function(){return{isLicensePopoverVisible:!t}}))}},{key:"toggleUpgradePopover",value:function(){var e=this.props,t=e.isUpgradePopoverVisible;(0,e.setState)((function(){return{isUpgradePopoverVisible:!t}}))}},{key:"toggleQuotaPurchasePopover",value:function(){var e=this.props,t=e.isQuotaPurchasePopoverVisible;(0,e.setState)((function(){return{isQuotaPurchasePopoverVisible:!t}}))}},{key:"toggleCancelDialog",value:function(){var e=this.props,t=e.isCancelDialogOpen;(0,e.setState)((function(){return{isCancelDialogOpen:!t}}))}},{key:"toggleUncancelDialog",value:function(){var e=this.props,t=e.isUncancelDialogOpen;(0,e.setState)((function(){return{isUncancelDialogOpen:!t}}))}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.productDisplay,c=n.mode,r=n.period,l=n.state,s=n.deactivationDate,u=n.nextChargeDate,b=n.nextChargeTotal,p=n.quota,m=n.quotaPerMonth,f=n.quotaExtra,d=n.plan,O=n.siteId,j=n.cancelSubscription,v=n.uncancelSubscription,_=n.isLicensePopoverVisible,y=n.isUpgradePopoverVisible,E=n.isQuotaPurchasePopoverVisible,P=n.isCancelDialogOpen,w=n.isUncancelDialogOpen,C=n.isSubscriptionDeprecated;return e="month"===r?Object(h._x)("Monthly","text","nelio-ab-testing"):Object(h._x)("Yearly","text","nelio-ab-testing"),"free"===c&&(e=Object(h._x)("Free","text","nelio-ab-testing")),Object(o.createElement)("div",{className:"nab-account-container__box nab-plan"},Object(o.createElement)("div",{className:"nab-plan__content"},Object(o.createElement)("h3",{className:"nab-plan__title"},a,Object(o.createElement)("span",{className:"nab-plan__period"},e),"canceled"===l&&Object(o.createElement)("span",{className:"nab-plan__state"},Object(h._x)("Canceled","text (account state)","nelio-ab-testing")),Object(o.createElement)(i.HelpIcon,{type:"info",tooltipPlacement:"left",className:"nab-plan__site-id",text:"".concat(Object(h._x)("Support Key","text","nelio-ab-testing"),": ").concat(O)})),Object(o.createElement)("div",{className:"nab-plan__renewal"},"free"===c&&Object(h._x)("You are using the free version of Nelio A/B Testing.","text","nelio-ab-testing"),"canceled"===l&&S()({mixedString:Object(h.sprintf)(Object(h._x)("Your subscription will end on %s.","text","nelio-ab-testing"),"{{date}}".concat(Object(x.formatI18nDate)(s),"{{/date}}")),components:{date:Object(o.createElement)("span",{className:"nab-plan__renewal-date"})}}),"free"!==c&&!C&&"canceled"!==l&&S()({mixedString:Object(h.sprintf)(Object(h._x)("Next charge will be %1$s on %2$s.","text","nelio-ab-testing"),"{{money}}".concat(b,"{{/money}}"),"{{date}}".concat(Object(x.formatI18nDate)(u),"{{/date}}")),components:{date:Object(o.createElement)("span",{className:"nab-plan__renewal-date"}),money:Object(o.createElement)("span",{className:"nab-plan__renewal-amount"})}}),"free"!==c&&C&&"canceled"!==l&&S()({mixedString:Object(h._x)("{{link}}Contact us{{/link}} to get additional features to manage your account.","text","nelio-ab-testing"),components:{link:Object(o.createElement)("a",{href:"mailto:support.testing@neliosoftware.com"})}})),Object(o.createElement)(i.QuotaMeter,{quota:p,quotaPerMonth:m,quotaExtra:f})),Object(o.createElement)("div",{className:"nab-plan__actions"},"free"===c&&!C&&Object(o.createElement)(o.Fragment,null,Object(o.createElement)("span",{className:"nab-plan__action-container"},Object(o.createElement)(g.Button,{isDefault:!0,className:"nab-plan__action",onClick:this.toggleLicensePopover},Object(h._x)("Use License","command","nelio-ab-testing")),Object(o.createElement)(N,{position:"bottom-center",onFocusOutside:this.toggleLicensePopover,onClick:this.toggleLicensePopover,isOpen:_})),Object(o.createElement)(g.ExternalLink,{className:"nab-plan__action button button-primary",href:Object(x.addFreeTracker)(Object(h._x)("https://neliosoftware.com/testing/pricing/","text","nelio-ab-testing"))},Object(h._x)("Subscribe","command","nelio-ab-testing"))),!!C&&Object(o.createElement)(o.Fragment,null,Object(o.createElement)(g.ExternalLink,{className:"nab-plan__action button",href:"mailto:support.testing@neliosoftware.com?subject=Buy%20Quota"},Object(h._x)("Buy More Quota","command","nelio-ab-testing")),Object(o.createElement)(g.ExternalLink,{className:"nab-plan__action button button-primary",href:"mailto:support.testing@neliosoftware.com?subject=Upgrade%20Subscription"},Object(h._x)("Upgrade Subscription","command","nelio-ab-testing"))),"free"!==c&&!C&&"active"===l&&Object(o.createElement)(o.Fragment,null,Object(o.createElement)(g.Button,{isLink:!0,isDestructive:!0,className:"nab-plan__action nab-plan__action--destructive",onClick:this.toggleCancelDialog},Object(h._x)("Cancel Subscription","command","nelio-ab-testing")),Object(o.createElement)(i.ConfirmationDialog,{title:Object(h._x)("Cancel Subscription?","text","nelio-ab-testing"),text:Object(h.sprintf)(Object(h._x)("Canceling your subscription will cause it not to renew. If you cancel your subscrition, it will continue until %s. Then, the subscription will expire and will not be invoiced again. Do you want to cancel your subscription?","user","nelio-ab-testing"),Object(x.formatI18nDate)(u)),isDestructive:!0,confirmLabel:Object(h._x)("Cancel Subscription","command","nelio-ab-testing"),cancelLabel:Object(h._x)("Back","command","nelio-ab-testing"),onCancel:this.toggleCancelDialog,onConfirm:function(){t.toggleCancelDialog(),j()},isOpen:P}),Object(o.createElement)("div",null,Object(o.createElement)(g.Button,{isDefault:!0,className:"nab-plan__action",onClick:this.toggleQuotaPurchasePopover},Object(h._x)("Buy More Quota","command","nelio-ab-testing")),Object(o.createElement)(i.QuotaPurchasePopover,{position:"bottom-center",onClick:this.toggleQuotaPurchasePopover,onFocusOutside:this.toggleQuotaPurchasePopover,isOpen:E})),"enterprise"!==d&&"year"!==r&&Object(o.createElement)("div",null,Object(o.createElement)(g.Button,{isPrimary:!0,className:"nab-plan__action",onClick:this.toggleUpgradePopover},Object(h._x)("Upgrade Subscription","command","nelio-ab-testing")),Object(o.createElement)(T,{position:"bottom-center",onClick:this.toggleUpgradePopover,onFocusOutside:this.toggleUpgradePopover,isOpen:y}))),"free"!==c&&!C&&"canceled"===l&&Object(o.createElement)(o.Fragment,null,Object(o.createElement)(g.Button,{isPrimary:!0,className:"nab-plan__action",onClick:this.toggleUncancelDialog},Object(h._x)("Reactivate Subscription","command","nelio-ab-testing")),Object(o.createElement)(i.ConfirmationDialog,{title:Object(h._x)("Reactivate Subscription?","text","nelio-ab-testing"),text:Object(h.sprintf)(Object(h._x)("Reactivating your subscription will cause it to renew on %s. Do you want to reactivate your subscription?","user","nelio-ab-testing"),Object(x.formatI18nDate)(u)),confirmLabel:Object(h._x)("Reactivate Subscription","command","nelio-ab-testing"),cancelLabel:Object(h._x)("Back","command","nelio-ab-testing"),onCancel:this.toggleUncancelDialog,onConfirm:function(){t.toggleUncancelDialog(),v()},isOpen:w}))))}}]),t}(o.Component),F=Object(d.withSelect)((function(e){var t=e("nab/data"),n=t.getProductDisplay,o=t.getMode,i=t.getPeriod,a=t.getState,c=t.getDeactivationDate,r=t.getNextChargeDate,l=t.getNextChargeTotal,s=t.getQuota,u=t.getQuotaPerMonth,b=t.getQuotaExtra,p=t.getPlan;return{isSubscriptionDeprecated:(0,t.isSubscriptionDeprecated)(),productDisplay:n(),mode:o(),period:i(),state:a(),deactivationDate:c(),nextChargeDate:r(),nextChargeTotal:l(),quota:s(),quotaPerMonth:u(),quotaExtra:b(),plan:p()}})),I=Object(d.withDispatch)((function(e){var t=e("nab/data");return{cancelSubscription:t.cancelSubscription,uncancelSubscription:t.uncancelSubscription}})),A=Object(O.withState)({isLicensePopoverVisible:!1,isUpgradePopoverVisible:!1,isQuotaPurchasePopoverVisible:!1,isCancelDialogOpen:!1}),Q=Object(O.compose)(A,F,I)(V),B=(n(186),function(e){function t(){var e;return c()(this,t),(e=u()(this,p()(t).apply(this,arguments))).toggleLicensePopover=e.toggleLicensePopover.bind(y()(e)),e}return f()(t,e),l()(t,[{key:"toggleLicensePopover",value:function(){var e=this.props,t=e.isLicensePopoverVisible;(0,e.setState)((function(){return{isLicensePopoverVisible:!t}}))}},{key:"render",value:function(){var e=this.props,t=e.fullname,n=e.email,i=e.startDate,a=e.license,c=e.photo,r=e.isLicensePopoverVisible;return Object(o.createElement)("div",{className:"nab-account-container__box nab-info"},Object(o.createElement)("h3",{className:"nab-info__title"},Object(h._x)("Account Information","title (account)","nelio-ab-testing")),Object(o.createElement)("div",{className:"nab-info__container"},Object(o.createElement)("div",{className:"nab-info__profile"},Object(o.createElement)("div",{className:"nab-info__picture nab-first-letter-a"},Object(o.createElement)("div",{className:"nab-info__actual-picture",style:{backgroundImage:"url(".concat(c,")")}}))),Object(o.createElement)("div",{className:"nab-info__details"},Object(o.createElement)("p",{className:"nab-info__name"},t),Object(o.createElement)("p",{className:"nab-info__email"},Object(o.createElement)(g.Dashicon,{icon:"email",className:"nab-info__icon"}),n),Object(o.createElement)("p",{className:"nab-info__creation-date"},Object(o.createElement)(g.Dashicon,{icon:"calendar",className:"nab-info__icon"}),S()({mixedString:Object(h.sprintf)(Object(h._x)("Member since %s.","text","nelio-ab-testing"),"{{date}}".concat(Object(x.formatI18nDate)(i),"{{/date}}")),components:{date:Object(o.createElement)("strong",null)}})),Object(o.createElement)("div",{className:"nab-info__license"},Object(o.createElement)(g.Dashicon,{icon:"admin-network",className:"nab-info__icon"}),Object(o.createElement)("code",{title:Object(h._x)("License Key","text","nelio-ab-testing")},a),Object(o.createElement)("div",{className:"nab-info__change-license"},Object(o.createElement)(g.Button,{isTertiary:!0,onClick:this.toggleLicensePopover},Object(h._x)("Change","command","nelio-ab-testing")),Object(o.createElement)(N,{isOpen:r,position:"bottom-center",onClick:this.toggleLicensePopover,onFocusOutside:this.toggleLicensePopover}))))))}}]),t}(o.Component)),q=Object(O.ifCondition)((function(e){return e.isSubscribed})),$=Object(d.withSelect)((function(e){var t=e("nab/data"),n=t.getFullname,o=t.getEmail,i=t.getStartDate,a=t.getLicense,c=t.getPhoto,r=t.getMode;return{fullname:n(),email:o(),startDate:i(),license:a(),photo:c(),isSubscribed:"regular"===r()}})),H=Object(O.withState)({isLicensePopoverVisible:!1}),W=Object(O.compose)(H,$,q)(B),z=n(34),Y=n.n(z),K=n(16),G=n.n(K),J=(n(187),function(e){function t(){var e;return c()(this,t),(e=u()(this,p()(t).apply(this,arguments))).toggleConfirmationDialog=e.toggleConfirmationDialog.bind(y()(e)),e}return f()(t,e),l()(t,[{key:"toggleConfirmationDialog",value:function(){var e=this.props,t=e.isConfirmationDialogVisible;(0,e.setState)((function(){return{isConfirmationDialogVisible:!t}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isCurrentSite,a=t.isConfirmationDialogVisible,c=t.url,r=t.actualUrl,l=t.unlink;return Object(o.createElement)("li",{className:"nab-site"},n&&Object(o.createElement)("span",{className:"nab-site__url"},Object(o.createElement)("span",{className:"nab-site__current-site"},c,!!r&&c!==r&&Object(o.createElement)(i.HelpIcon,{className:"nab-site__current-site-help",type:"info",text:Object(h.sprintf)(Object(h._x)("Activation URL is “%s”","text","nelio-ab-testing"),r)})),Object(o.createElement)("span",{className:"nab-site__label"},Object(h._x)("This site","text","nelio-ab-testing"))),!n&&Object(o.createElement)("span",{className:"nab-site__url"},Object(o.createElement)("a",{href:c,className:G()("nab-site__link",{"nab-site__link--current":n}),target:"_blank",rel:"noopener noreferrer"},c)),Object(o.createElement)(g.Button,{isDestructive:!0,isLink:!0,className:"nab-site__unlink-button",onClick:this.toggleConfirmationDialog},Object(h._x)("Unlink Site","command","nelio-ab-testing")),Object(o.createElement)(i.ConfirmationDialog,{title:Object(h._x)("Unlink Site?","text","nelio-ab-testing"),text:Object(h._x)("This will remove the subscription license from the site.","text","nelio-ab-testing"),confirmLabel:Object(h._x)("Unlink","command","nelio-ab-testing"),isOpen:a,onCancel:this.toggleConfirmationDialog,onConfirm:function(){e.toggleConfirmationDialog(),l()}}))}}]),t}(o.Component)),X=Object(d.withDispatch)((function(e,t){var n=e("nab/data").unlinkSite;return{unlink:function(){var e=t.id;n(e)}}})),Z=Object(O.withState)({isConfirmationDialogVisible:!1}),ee=Object(O.compose)(Z,X)(J),te=(n(188),function(e){function t(){return c()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.sitesConnected,n=e.sitesAllowed,i=e.sites,a=0===i.length;return Object(o.createElement)("div",{className:"nab-account-container__box nab-sites"},Object(o.createElement)("h3",{className:"nab-sites__title"},Object(h._x)("Sites","text","nelio-ab-testing"),a&&Object(o.createElement)(g.Spinner,null),Object(o.createElement)("span",{className:"nab-sites__availability"},"".concat(t," / ").concat(n))),Object(o.createElement)("ul",{className:"nab-sites__list"},!a&&i.map((function(e){return Object(o.createElement)(ee,Y()({key:e.id},e))}))))}}]),t}(o.Component)),ne=Object(O.ifCondition)((function(e){return e.isSubscribed})),oe=Object(d.withSelect)((function(e){var t=e("nab/data"),n=t.getSitesAllowed,o=t.getSites,i=t.getMode,a=o((0,t.getSubscription)());return{sitesConnected:a.length,sitesAllowed:n(),sites:a,isSubscribed:"regular"===i()}})),ie=Object(O.compose)(oe,ne)(te),ae=(n(189),function(e){function t(){return c()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.invoiceUrl,n=e.reference,i=e.chargeDate,a=e.isRefunded,c=e.subtotalDisplay;return Object(o.createElement)("tr",{className:"nab-invoice"},Object(o.createElement)("td",{className:"nab-invoice__reference"},Object(o.createElement)("a",{href:t,className:"nab-invoice__link",target:"_blank",rel:"noopener noreferrer"},n)),Object(o.createElement)("td",{className:"nab-invoice__date"},i),Object(o.createElement)("td",{className:"nab-invoice__total"},a&&Object(o.createElement)("span",{className:"nab-invoice__label"},Object(h._x)("(Refunded)","text (invoice)","nelio-ab-testing")),Object(o.createElement)("span",{className:G()("nab-invoice__total-value",{"nab-invoice__total-value--refunded":a})},c)))}}]),t}(o.Component)),ce=(n(190),function(e){function t(){return c()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.invoices,n=e.isLoading,i=e.urlToManagePayments;return Object(o.createElement)("div",{className:"nab-account-container__box nab-billing"},Object(o.createElement)("h3",{className:"nab-billing__title"},Object(h._x)("Billing History","text","nelio-ab-testing"),n&&Object(o.createElement)(g.Spinner,null)),!n&&Object(o.createElement)(o.Fragment,null,Object(o.createElement)(g.ExternalLink,{className:"nab-billing__action",href:i},Object(h._x)("Manage Payments","user","nelio-ab-testing")),Object(o.createElement)("table",{className:"nab-billing__container"},Object(o.createElement)("thead",null,Object(o.createElement)("tr",null,Object(o.createElement)("th",{className:"nab-billing__reference"},Object(h._x)("Invoice Reference","text (account, billing table title)","nelio-ab-testing")),Object(o.createElement)("th",{className:"nab-billing__date"},Object(h._x)("Date","text (account, billing table title)","nelio-ab-testing")),Object(o.createElement)("th",{className:"nab-billing__total"},Object(h._x)("Total","text (account, billing table title)","nelio-ab-testing")))),Object(o.createElement)("tbody",{className:"invoice-list"},t.map((function(e){return Object(o.createElement)(ae,Y()({key:e.reference},e))}))))))}}]),t}(o.Component)),re=Object(O.ifCondition)((function(e){return e.isSubscribed&&!e.isSubscriptionDeprecated})),le=Object(d.withSelect)((function(e){var t=e("nab/data"),n=t.getInvoices,o=t.getMode,i=t.getSubscription,a=t.getUrlToManagePayments,c=t.isSubscriptionDeprecated,r=n(i());return{invoices:r,isLoading:void 0===r,isSubscribed:"regular"===o(),isSubscriptionDeprecated:c(),urlToManagePayments:a()}})),se=Object(O.compose)(le,re)(ce),ue=(n(191),function(e){function t(){return c()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"render",value:function(){return Object(o.createElement)(g.Modal,{className:"nab-locked",title:Object(h._x)("Loading…","text","nelio-ab-testing"),shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1,isDismissable:!1},Object(o.createElement)(g.Spinner,null))}}]),t}(o.Component)),be=Object(O.ifCondition)((function(e){return e.isLocked})),pe=Object(d.withSelect)((function(e){return{isLocked:(0,e("nab/data").isLocked)()}})),me=Object(O.compose)(pe,be)(ue);function fe(e,t){var n=t.help,a=t.siteId,c=t.subscription;Object(i.appendContextualHelp)("account",n,{siteId:a,subscription:c});var r=document.getElementById(e);Object(o.render)(Object(o.createElement)(v,null,Object(o.createElement)(Q,{siteId:a}),Object(o.createElement)(W,null),Object(o.createElement)(ie,null),Object(o.createElement)(se,null),Object(o.createElement)(me,null)),r)}n.d(t,"default",(function(){return fe})),window.nab=window.nab||{},window.nab.initPage=fe},26:function(e,t){!function(){e.exports=this.nab.data}()},29:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=o=function(e){return n(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},o(t)}e.exports=o},3:function(e,t){!function(){e.exports=this.wp.data}()},30:function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n},34:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},4:function(e,t){!function(){e.exports=this.wp.compose}()},46:function(e,t,n){"use strict";function o(e){return function(){return e}}var i=function(){};i.thatReturns=o,i.thatReturnsFalse=o(!1),i.thatReturnsTrue=o(!0),i.thatReturnsNull=o(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},5:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},56:function(e,t){!function(){e.exports=this.wp.notices}()},57:function(e,t,n){"use strict";var o=n(10),i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,a=n(46),c=n(58),r=n(59),l=".",s=":",u="function"==typeof Symbol&&Symbol.iterator,b="@@iterator";function p(e,t){return e&&"object"==typeof e&&null!=e.key?(n=e.key,o={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return o[e]}))):t.toString(36);var n,o}function m(e,t,n,o){var a,r=typeof e;if("undefined"!==r&&"boolean"!==r||(e=null),null===e||"string"===r||"number"===r||"object"===r&&e.$$typeof===i)return n(o,e,""===t?l+p(e,0):t),1;var f=0,g=""===t?l:t+s;if(Array.isArray(e))for(var d=0;d<e.length;d++)f+=m(a=e[d],g+p(a,d),n,o);else{var O=function(e){var t=e&&(u&&e[u]||e[b]);if("function"==typeof t)return t}(e);if(O){0;for(var h,j=O.call(e),v=0;!(h=j.next()).done;)f+=m(a=h.value,g+p(a,v++),n,o)}else if("object"===r){0;var _=""+e;c(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===_?"object with keys {"+Object.keys(e).join(", ")+"}":_,"")}}return f}var f=/\/+/g;function g(e){return(""+e).replace(f,"$&/")}var d,O,h=j,j=function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)},v=function(e){c(e instanceof this,"Trying to release an instance into a pool of a different type."),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)};function _(e,t,n,o){this.result=e,this.keyPrefix=t,this.func=n,this.context=o,this.count=0}function y(e,t,n){var i,c,r=e.result,l=e.keyPrefix,s=e.func,u=e.context,b=s.call(u,t,e.count++);Array.isArray(b)?x(b,r,n,a.thatReturnsArgument):null!=b&&(o.isValidElement(b)&&(i=b,c=l+(!b.key||t&&t.key===b.key?"":g(b.key)+"/")+n,b=o.cloneElement(i,{key:c},void 0!==i.props?i.props.children:void 0)),r.push(b))}function x(e,t,n,o,i){var a="";null!=n&&(a=g(n)+"/");var c=_.getPooled(t,a,o,i);!function(e,t,n){null==e||m(e,"",t,n)}(e,y,c),_.release(c)}_.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d=function(e,t,n,o){if(this.instancePool.length){var i=this.instancePool.pop();return this.call(i,e,t,n,o),i}return new this(e,t,n,o)},(O=_).instancePool=[],O.getPooled=d||h,O.poolSize||(O.poolSize=10),O.release=v;e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return r(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(o.isValidElement(e))return r(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;c(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var n in e)x(e[n],t,n,a.thatReturnsArgument);return t}},58:function(e,t,n){"use strict";var o=function(e){};e.exports=function(e,t,n,i,a,c,r,l){if(o(t),!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,a,c,r,l],b=0;(s=new Error(t.replace(/%s/g,(function(){return u[b++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},59:function(e,t,n){"use strict";var o=n(46);e.exports=o},6:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},60:function(e,t,n){"use strict";function o(e){return e.match(/^\{\{\//)?{type:"componentClose",value:e.replace(/\W/g,"")}:e.match(/\/\}\}$/)?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.match(/^\{\{/)?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}e.exports=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(o)}},7:function(e,t,n){var o=n(29),i=n(18);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?i(e):t}},8:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},9:function(e,t,n){var o=n(30);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}}});