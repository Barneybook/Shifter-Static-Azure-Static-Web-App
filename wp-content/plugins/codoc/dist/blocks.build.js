!function(e){function t(l){if(n[l])return n[l].exports;var o=n[l]={i:l,l:!1,exports:{}};return e[l].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,l){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:l})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1)},function(e,t,n){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(2),a=(n.n(i),n(3)),s=(n.n(a),n(4)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),u=wp.keycodes.ENTER,__=wp.i18n.__,p=wp.element.Component,m=wp.blocks.registerBlockType,h=wp.editor,b=h.InspectorControls,f=h.RichText,d=wp.components,w=d.SelectControl,v=d.PanelBody,y=d.ToggleControl,g=d.CheckboxControl,E=d.RangeControl,C=wp.blocks,k=C.getDefaultBlockName,_=C.createBlock,x=wp.compose.withState,A=OPTIONS.codoc_url,O=OPTIONS.codoc_usercode,P=OPTIONS.codoc_plugin_version,S=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n.subscriptionsFetched=[],n.fetchSubscriptions(),n}return r(t,e),c(t,[{key:"fetchSubscriptions",value:function(){var e=this,t=this.props,n=t.setAttributes;if(!t.attributes.fetching){n({fetching:!0});var l=A+"/api/v1/cms/"+O+"/subscriptions?without_token=1";fetch(l).then(function(e){return e.json()}).then(function(t){var l=[];if(t.status&&t.subscriptions)for(var o=0;o<t.subscriptions.length;o++){var r={value:t.subscriptions[o].code,label:t.subscriptions[o].title};l[o]=r}l.length&&(e.subscriptionsFetched=l),n({fetching:!1})})}}},{key:"getShowPriceHelp",value:function(e){return __(e?"\u3059\u308b":"\u3057\u306a\u3044")}},{key:"getShowSupportHelp",value:function(e){return __(e?"\u53d7\u3051\u4ed8\u3051\u308b":"\u53d7\u3051\u4ed8\u3051\u306a\u3044")}},{key:"render",value:function(){var e=this,t=this.props,n=t.setAttributes,l=t.attributes,o=l.showPrice,r=l.price,i=l.limited,a=l.limitedCount,s=l.affiliateMode,c=l.affiliateRate,u=l.showSupport,p=l.subscriptions,m=function(){return n({showPrice:!o})},h=function(){return n({limited:!i})},f=function(){return n({affiliateMode:!s})},d=function(){return n({showSupport:!u})},C=x({checked_obj:Object.assign(new Object,p)})(function(t){var l=t.checked_obj,o=t.setState;return wp.element.createElement("ul",null,e.subscriptionsFetched.map(function(e){return wp.element.createElement("li",null,wp.element.createElement(g,{className:"check_items",label:e.label,checked:l[e.value],onChange:function(t){t?l[e.value]=!0:delete l[e.value],n({subscriptions:l}),o({checked_obj:l})}}))}))}),k=[{value:"0.0500",label:"\u8ca9\u58f2\u4fa1\u683c\u306e5%"},{value:"0.1000",label:"\u8ca9\u58f2\u4fa1\u683c\u306e10%"},{value:"0.1500",label:"\u8ca9\u58f2\u4fa1\u683c\u306e15%"},{value:"0.2000",label:"\u8ca9\u58f2\u4fa1\u683c\u306e20%"},{value:"0.2500",label:"\u8ca9\u58f2\u4fa1\u683c\u306e25%"},{value:"0.3000",label:"\u8ca9\u58f2\u4fa1\u683c\u306e30%"},{value:"0.3500",label:"\u8ca9\u58f2\u4fa1\u683c\u306e35%"},{value:"0.4000",label:"\u8ca9\u58f2\u4fa1\u683c\u306e40%"},{value:"0.4500",label:"\u8ca9\u58f2\u4fa1\u683c\u306e45%"},{value:"0.5000",label:"\u8ca9\u58f2\u4fa1\u683c\u306e50%"}];return wp.element.createElement(b,{key:"CodocControls"},wp.element.createElement(v,null,wp.element.createElement(y,{label:__("\u5358\u4f53\u8ca9\u58f2"),checked:!!o,help:this.getShowPriceHelp,ref:"showPrice",onChange:m}),wp.element.createElement("div",{style:{display:o?"initial":"none"}},wp.element.createElement(E,{label:__("\u4fa1\u683c(\u5186)"),value:r,initialPosition:r,onChange:function(e){n({price:e})},min:"100",max:"50000"}),wp.element.createElement("br",null),wp.element.createElement(y,{label:__("\u6570\u91cf\u9650\u5b9a\u8ca9\u58f2"),checked:!!i,onChange:h}),wp.element.createElement("div",{style:{display:i?"initial":"none"}},wp.element.createElement(E,{label:__("\u9650\u5b9a\u6570"),value:a,onChange:function(e){n({limitedCount:e})},initialPosition:a,min:"1",max:"100"}),wp.element.createElement("br",null)),wp.element.createElement(y,{label:__("\u30a2\u30d5\u30a3\u30ea\u30a8\u30a4\u30c8"),checked:!!s,onChange:f}),wp.element.createElement("div",{style:{display:s?"initial":"none"}},wp.element.createElement(w,{label:__("\u6599\u7387"),description:__("\u8cfc\u5165\u8005\u3092\u5bfe\u8c61\u306b\u6307\u5b9a\u3057\u305f\u6599\u7387\u3067\u30a2\u30d5\u30a3\u30ea\u30a8\u30a4\u30c8\u3092\u30aa\u30d5\u30a1\u30fc\u3067\u304d\u307e\u3059"),options:k,value:c,onChange:function(e){n({affiliateRate:e})}}),wp.element.createElement("br",null))),wp.element.createElement(y,{label:__("\u30b5\u30dd\u30fc\u30c8"),checked:!!u,value:"1",onChange:d,help:this.getShowSupportHelp}),wp.element.createElement("label",null,"\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3"),wp.element.createElement(C,null)))}}]),t}(p),j=function(e){function t(){l(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.props.setAttributes({version:P}),e.props.setAttributes({showPrice:null==e.props.attributes.showPrice||e.props.attributes.showPrice}),e.props.setAttributes({price:null==e.props.attributes.price?100:e.props.attributes.price}),e.props.setAttributes({limited:null!=e.props.attributes.limited&&e.props.attributes.limited}),e.props.setAttributes({limitedCount:null==e.props.attributes.limitedCount?10:e.props.attributes.limitedCount}),e.props.setAttributes({affiliateMode:null!=e.props.attributes.affiliateMode&&e.props.attributes.affiliateMode}),e.props.setAttributes({affiliateRate:null==e.props.attributes.affiliateRate?"0.0500":e.props.attributes.affiliateRate}),e.props.setAttributes({showSupport:null!=e.props.attributes.showSupport&&e.props.attributes.showSupport}),e.props.setAttributes({subscriptions:null==e.props.attributes.subscriptions?{}:e.props.attributes.subscriptions}),e.onChangeInput=e.onChangeInput.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.state={defaultText:__("\u3053\u306e\u7d9a\u304d\u3092\u307f\u308b\u306b\u306f")},e}return r(t,e),c(t,[{key:"onChangeInput",value:function(e){this.setState({defaultText:""});var t=0===e.target.value.length?void 0:e.target.value;this.props.setAttributes({customText:t})}},{key:"onKeyDown",value:function(e){var t=e.keyCode,n=this.props.insertBlocksAfter;t===u&&n([_(k())])}},{key:"render",value:function(){var e=this.props,t=e.attributes.customText,n=e.setAttributes,l=this.state.defaultText,o=t||l,r=o.length+10;return[wp.element.createElement(S,Object.assign({setAttributes:n},this.props)),wp.element.createElement("div",{className:"wp-block-more"},wp.element.createElement("input",{type:"text",value:o,size:r,onChange:this.onChangeInput,onKeyDown:this.onKeyDown}))]}}]),t}(p);m("codoc/codoc-block",{title:__("codoc"),description:__("\u3053\u306e\u30d6\u30ed\u30c3\u30af\u304b\u3089\u4e0b\u306e\u30d6\u30ed\u30c3\u30af\u306f\u8a8d\u8a3c\u3055\u308c\u305fcodoc\u30e6\u30fc\u30b6\u30fc\u306e\u307f\u304c\u95b2\u89a7\u3067\u304d\u308b\u6709\u6599\u30a8\u30ea\u30a2\u3068\u306a\u308a\u307e\u3059\u3002"),icon:s.a,category:"layout",supports:{customClassName:!1,className:!1,html:!1,multiple:!1},keywords:[__("codoc Block"),__("plugin for codoc"),__("codoc-block")],attributes:{showPrice:{type:"boolean",default:null},price:{type:"number",default:null},limited:{type:"boolean",default:null},limitedCount:{type:"number",default:null},affiliateMode:{type:"boolean",default:null},affiliateRate:{type:"string",default:null},showSupport:{type:"boolean",default:null},subscriptions:{type:"object",default:null},customText:{type:"string",default:""},version:{type:"string",default:null}},edit:j,save:function(e){var t=(e.setAttributes,e.attributes.customText);return wp.element.createElement("div",{"data-id":"codoc-tag",className:"codoc-entries"},t&&!!t.length&&wp.element.createElement(f.Content,{value:t}))}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";var l=n(5);n.n(l);t.a=wp.element.createElement("svg",{id:"\u30ec\u30a4\u30e4\u30fc_1","data-name":"\u30ec\u30a4\u30e4\u30fc 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200"},wp.element.createElement("path",{d:"M10.51,169.76c0-8.56,7.41-15.55,16-15.55a14.75,14.75,0,0,1,11.12,4.42l-5.27,5.28a8.56,8.56,0,0,0-5.85-2.28,7.84,7.84,0,0,0-8,8.13,7.93,7.93,0,0,0,8,8.13,8.31,8.31,0,0,0,5.7-2.43l5.28,5.13a15.2,15.2,0,0,1-11,4.71C17.21,185.3,10.51,179,10.51,169.76Z"}),wp.element.createElement("path",{d:"M44.67,169.76c0-8.56,7.41-15.55,16-15.55,9.27,0,16,6.28,16,15.55,0,8.55-7.42,15.54-16,15.54C51.37,185.3,44.67,179,44.67,169.76Zm24,0a7.75,7.75,0,0,0-8-8.13,7.83,7.83,0,0,0-8,8.13,7.92,7.92,0,0,0,8,8.13A7.83,7.83,0,0,0,68.62,169.76Z"}),wp.element.createElement("path",{d:"M84,169.76a15.68,15.68,0,0,1,15.55-15.55,14,14,0,0,1,8.41,2.57V138.49h8v31.27c0,8.55-7.42,15.54-16,15.54C90.66,185.3,84,179,84,169.76Zm24,0a8,8,0,1,0-16,0,7.92,7.92,0,0,0,8,8.13A7.84,7.84,0,0,0,107.92,169.76Z"}),wp.element.createElement("path",{d:"M124.11,169.76c0-8.56,7.42-15.55,16-15.55,9.27,0,16,6.28,16,15.55,0,8.55-7.42,15.54-16,15.54C130.81,185.3,124.11,179,124.11,169.76Zm24,0a8,8,0,1,0-16,0,7.92,7.92,0,0,0,8,8.13A7.84,7.84,0,0,0,148.07,169.76Z"}),wp.element.createElement("path",{d:"M163.41,169.76c0-8.56,7.41-15.55,16-15.55a14.73,14.73,0,0,1,11.12,4.42l-5.27,5.28a8.56,8.56,0,0,0-5.85-2.28,7.84,7.84,0,0,0-8,8.13,7.93,7.93,0,0,0,8,8.13,8.31,8.31,0,0,0,5.7-2.43l5.28,5.13a15.2,15.2,0,0,1-11,4.71C170.11,185.3,163.41,179,163.41,169.76Z"}),wp.element.createElement("path",{class:"cls-1",d:"M154.23,78.71H125v29.7H66.79V53.79a8.14,8.14,0,0,1,8.14-8.14h71.16a8.14,8.14,0,0,1,8.14,8.14Z"}),wp.element.createElement("rect",{class:"cls-2",x:"145.33",y:"45.94",width:"8.9",height:"33.31"}),wp.element.createElement("rect",{x:"78.88",y:"90.24",width:"37.68",height:"8.9"}),wp.element.createElement("rect",{x:"78.88",y:"72.85",width:"37.68",height:"8.9"}),wp.element.createElement("rect",{x:"78.88",y:"55.46",width:"66.46",height:"8.9"}),wp.element.createElement("path",{d:"M164.18,50.39A14.44,14.44,0,0,0,149.74,36H71.28A14.44,14.44,0,0,0,56.84,50.39v68.22h78.1l0,0,29.21-29.7,0,0h0ZM135,104.49V88.91h15.27ZM154.23,79H125v29.7H66.79V54a8.13,8.13,0,0,1,8.14-8.14h71.16A8.13,8.13,0,0,1,154.23,54Z"}),wp.element.createElement("polygon",{class:"cls-2",points:"134.97 88.91 134.97 104.49 150.39 89.06 134.97 88.91"}),wp.element.createElement("path",{d:"M46.77,46.88A20.88,20.88,0,0,1,67.65,26h47.07V16.05H64A27.18,27.18,0,0,0,36.83,43.23V79.52h9.94Z"}))},function(e,t){e.exports=wp.components}]);